<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Tracky App</title>

<style>
:root{
  --bg:#f4f6f8;
  --card:#fff;
  --text:#111;
  --primary:#1e90ff;
}

.dark{
  --bg:#0f172a;
  --card:#1e293b;
  --text:#fff;
  --primary:#38bdf8;
}

body{
  margin:0;
  font-family:system-ui;
  background:var(--bg);
  color:var(--text);
  direction:rtl;
}

/* Header */
header{
  background:var(--primary);
  color:white;
  padding:15px;
  display:flex;
  justify-content:space-between;
  align-items:center;
}

.toggle{
  background:white;
  color:black;
  padding:6px 12px;
  border-radius:8px;
  cursor:pointer;
  border:none;
}

/* Cards */
.cards{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:10px;
  padding:15px;
}

.card{
  background:var(--card);
  padding:15px;
  border-radius:12px;
  text-align:center;
  box-shadow:0 5px 10px rgba(0,0,0,.1);
}

/* Form */
.box{
  background:var(--card);
  margin:15px;
  padding:15px;
  border-radius:12px;
}

input,select{
  width:100%;
  padding:10px;
  margin-top:8px;
  border-radius:8px;
  border:1px solid #ccc;
}

button{
  width:100%;
  margin-top:10px;
  padding:10px;
  background:var(--primary);
  color:white;
  border:none;
  border-radius:10px;
}

/* Table */
table{
  width:100%;
  border-collapse:collapse;
}

th,td{
  padding:8px;
  text-align:center;
}

tr{
  border-bottom:1px solid #ddd;
}
</style>
</head>

<body>

<header>
  <b>Tracky App ğŸ“Š</b>
  <button class="toggle" onclick="toggleMode()">ğŸŒ™</button>
</header>

<div class="cards">
  <div class="card">
    <h4>Ø§Ù„Ø¯Ø®Ù„</h4>
    <h2 id="income">0</h2>
  </div>

  <div class="card">
    <h4>Ø§Ù„Ù…ØµØ±ÙˆÙ</h4>
    <h2 id="expense">0</h2>
  </div>

  <div class="card">
    <h4>Ø§Ù„ØµØ§ÙÙŠ</h4>
    <h2 id="net">0</h2>
  </div>
</div>

<div class="box">
<h3>â• Ø¥Ø¶Ø§ÙØ© Ø¹Ù…Ù„ÙŠØ©</h3>

<select id="type">
  <option value="income">Ø¯Ø®Ù„</option>
  <option value="expense">Ù…ØµØ±ÙˆÙ</option>
</select>

<input id="amount" type="number" placeholder="Ø§Ù„Ù…Ø¨Ù„Øº">
<input id="note" placeholder="Ù…Ù„Ø§Ø­Ø¸Ø©">

<button onclick="add()">Ø¥Ø¶Ø§ÙØ©</button>
</div>

<div class="box">
<h3>ğŸ“„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª</h3>

<table>
<thead>
<tr>
<th>Ø§Ù„Ù†ÙˆØ¹</th>
<th>Ø§Ù„Ù…Ø¨Ù„Øº</th>
<th>Ù…Ù„Ø§Ø­Ø¸Ø©</th>
<th>Ø­Ø°Ù</th>
</tr>
</thead>
<tbody id="list"></tbody>
</table>
</div>

<script>
let data = JSON.parse(localStorage.getItem("data")) || [];

function save(){
 localStorage.setItem("data",JSON.stringify(data));
}

function render(){
 let income=0,expense=0;
 list.innerHTML="";

 data.forEach((e,i)=>{
  if(e.type=="income") income+=e.amount;
  else expense+=e.amount;

  list.innerHTML+=`
  <tr>
   <td>${e.type=="income"?"Ø¯Ø®Ù„":"Ù…ØµØ±ÙˆÙ"}</td>
   <td>${e.amount}</td>
   <td>${e.note}</td>
   <td><button onclick="del(${i})">âŒ</button></td>
  </tr>`;
 });

 document.getElementById("income").innerText=income;
 document.getElementById("expense").innerText=expense;
 document.getElementById("net").innerText=income-expense;
}

function add(){
 let obj={
  type:type.value,
  amount:+amount.value,
  note:note.value
 };

 data.push(obj);
 save();
 render();
 amount.value="";
 note.value="";
}

function del(i){
 data.splice(i,1);
 save();
 render();
}

function toggleMode(){
 document.body.classList.toggle("dark");
 localStorage.mode = 
 document.body.classList.contains("dark")?"dark":"light";
}

if(localStorage.mode=="dark")
 document.body.classList.add("dark");

render();
</script>

</body>
</html>
